var Ee=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,ue=Math.ceil,z=Math.floor,G="[BigNumber Error] ",ge=G+"Number primitive has more than 15 significant digits: ",V=1e14,O=14,ae=9007199254740991,he=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],K=1e7,T=1e9;function we(N){var E,A,S,p=h.prototype={constructor:h,toString:null,valueOf:null},B=new h(1),v=20,x=4,D=-7,L=21,C=-1e7,U=1e7,Y=!1,Z=1,X=0,te={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},j="0123456789abcdefghijklmnopqrstuvwxyz",fe=!0;function h(e,r){var i,l,t,s,u,n,f,c,o=this;if(!(o instanceof h))return new h(e,r);if(r==null){if(e&&e._isBigNumber===!0){o.s=e.s,!e.c||e.e>U?o.c=o.e=null:e.e<C?o.c=[o.e=0]:(o.e=e.e,o.c=e.c.slice());return}if((n=typeof e=="number")&&e*0==0){if(o.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,u=e;u>=10;u/=10,s++);s>U?o.c=o.e=null:(o.e=s,o.c=[e]);return}c=String(e)}else{if(!Ee.test(c=String(e)))return S(o,c,n);o.s=c.charCodeAt(0)==45?(c=c.slice(1),-1):1}(s=c.indexOf("."))>-1&&(c=c.replace(".","")),(u=c.search(/e/i))>0?(s<0&&(s=u),s+=+c.slice(u+1),c=c.substring(0,u)):s<0&&(s=c.length)}else{if(R(r,2,j.length,"Base"),r==10&&fe)return o=new h(e),F(o,v+o.e+1,x);if(c=String(e),n=typeof e=="number"){if(e*0!=0)return S(o,c,n,r);if(o.s=1/e<0?(c=c.slice(1),-1):1,h.DEBUG&&c.replace(/^0\.0*|\./,"").length>15)throw Error(ge+e)}else o.s=c.charCodeAt(0)===45?(c=c.slice(1),-1):1;for(i=j.slice(0,r),s=u=0,f=c.length;u<f;u++)if(i.indexOf(l=c.charAt(u))<0){if(l=="."){if(u>s){s=f;continue}}else if(!t&&(c==c.toUpperCase()&&(c=c.toLowerCase())||c==c.toLowerCase()&&(c=c.toUpperCase()))){t=!0,u=-1,s=0;continue}return S(o,String(e),n,r)}n=!1,c=A(c,r,10,o.s),(s=c.indexOf("."))>-1?c=c.replace(".",""):s=c.length}for(u=0;c.charCodeAt(u)===48;u++);for(f=c.length;c.charCodeAt(--f)===48;);if(c=c.slice(u,++f)){if(f-=u,n&&h.DEBUG&&f>15&&(e>ae||e!==z(e)))throw Error(ge+o.s*e);if((s=s-u-1)>U)o.c=o.e=null;else if(s<C)o.c=[o.e=0];else{if(o.e=s,o.c=[],u=(s+1)%O,s<0&&(u+=O),u<f){for(u&&o.c.push(+c.slice(0,u)),f-=O;u<f;)o.c.push(+c.slice(u,u+=O));u=O-(c=c.slice(u)).length}else u-=f;for(;u--;c+="0");o.c.push(+c)}}else o.c=[o.e=0]}h.clone=we,h.ROUND_UP=0,h.ROUND_DOWN=1,h.ROUND_CEIL=2,h.ROUND_FLOOR=3,h.ROUND_HALF_UP=4,h.ROUND_HALF_DOWN=5,h.ROUND_HALF_EVEN=6,h.ROUND_HALF_CEIL=7,h.ROUND_HALF_FLOOR=8,h.EUCLID=9,h.config=h.set=function(e){var r,i;if(e!=null)if(typeof e=="object"){if(e.hasOwnProperty(r="DECIMAL_PLACES")&&(i=e[r],R(i,0,T,r),v=i),e.hasOwnProperty(r="ROUNDING_MODE")&&(i=e[r],R(i,0,8,r),x=i),e.hasOwnProperty(r="EXPONENTIAL_AT")&&(i=e[r],i&&i.pop?(R(i[0],-T,0,r),R(i[1],0,T,r),D=i[0],L=i[1]):(R(i,-T,T,r),D=-(L=i<0?-i:i))),e.hasOwnProperty(r="RANGE"))if(i=e[r],i&&i.pop)R(i[0],-T,-1,r),R(i[1],1,T,r),C=i[0],U=i[1];else if(R(i,-T,T,r),i)C=-(U=i<0?-i:i);else throw Error(G+r+" cannot be zero: "+i);if(e.hasOwnProperty(r="CRYPTO"))if(i=e[r],i===!!i)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Y=i;else throw Y=!i,Error(G+"crypto unavailable");else Y=i;else throw Error(G+r+" not true or false: "+i);if(e.hasOwnProperty(r="MODULO_MODE")&&(i=e[r],R(i,0,9,r),Z=i),e.hasOwnProperty(r="POW_PRECISION")&&(i=e[r],R(i,0,T,r),X=i),e.hasOwnProperty(r="FORMAT"))if(i=e[r],typeof i=="object")te=i;else throw Error(G+r+" not an object: "+i);if(e.hasOwnProperty(r="ALPHABET"))if(i=e[r],typeof i=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(i))fe=i.slice(0,10)=="0123456789",j=i;else throw Error(G+r+" invalid: "+i)}else throw Error(G+"Object expected: "+e);return{DECIMAL_PLACES:v,ROUNDING_MODE:x,EXPONENTIAL_AT:[D,L],RANGE:[C,U],CRYPTO:Y,MODULO_MODE:Z,POW_PRECISION:X,FORMAT:te,ALPHABET:j}},h.isBigNumber=function(e){if(!e||e._isBigNumber!==!0)return!1;if(!h.DEBUG)return!0;var r,i,l=e.c,t=e.e,s=e.s;e:if({}.toString.call(l)=="[object Array]"){if((s===1||s===-1)&&t>=-T&&t<=T&&t===z(t)){if(l[0]===0){if(t===0&&l.length===1)return!0;break e}if(r=(t+1)%O,r<1&&(r+=O),String(l[0]).length==r){for(r=0;r<l.length;r++)if(i=l[r],i<0||i>=V||i!==z(i))break e;if(i!==0)return!0}}}else if(l===null&&t===null&&(s===null||s===1||s===-1))return!0;throw Error(G+"Invalid BigNumber: "+e)},h.maximum=h.max=function(){return pe(arguments,-1)},h.minimum=h.min=function(){return pe(arguments,1)},h.random=function(){var e=9007199254740992,r=Math.random()*e&2097151?function(){return z(Math.random()*e)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(i){var l,t,s,u,n,f=0,c=[],o=new h(B);if(i==null?i=v:R(i,0,T),u=ue(i/O),Y)if(crypto.getRandomValues){for(l=crypto.getRandomValues(new Uint32Array(u*=2));f<u;)n=l[f]*131072+(l[f+1]>>>11),n>=9e15?(t=crypto.getRandomValues(new Uint32Array(2)),l[f]=t[0],l[f+1]=t[1]):(c.push(n%1e14),f+=2);f=u/2}else if(crypto.randomBytes){for(l=crypto.randomBytes(u*=7);f<u;)n=(l[f]&31)*281474976710656+l[f+1]*1099511627776+l[f+2]*4294967296+l[f+3]*16777216+(l[f+4]<<16)+(l[f+5]<<8)+l[f+6],n>=9e15?crypto.randomBytes(7).copy(l,f):(c.push(n%1e14),f+=7);f=u/7}else throw Y=!1,Error(G+"crypto unavailable");if(!Y)for(;f<u;)n=r(),n<9e15&&(c[f++]=n%1e14);for(u=c[--f],i%=O,u&&i&&(n=he[O-i],c[f]=z(u/n)*n);c[f]===0;c.pop(),f--);if(f<0)c=[s=0];else{for(s=-1;c[0]===0;c.splice(0,1),s-=O);for(f=1,n=c[0];n>=10;n/=10,f++);f<O&&(s-=O-f)}return o.e=s,o.c=c,o}}(),h.sum=function(){for(var e=1,r=arguments,i=new h(r[0]);e<r.length;)i=i.plus(r[e++]);return i},A=function(){var e="0123456789";function r(i,l,t,s){for(var u,n=[0],f,c=0,o=i.length;c<o;){for(f=n.length;f--;n[f]*=l);for(n[0]+=s.indexOf(i.charAt(c++)),u=0;u<n.length;u++)n[u]>t-1&&(n[u+1]==null&&(n[u+1]=0),n[u+1]+=n[u]/t|0,n[u]%=t)}return n.reverse()}return function(i,l,t,s,u){var n,f,c,o,a,g,w,m,I=i.indexOf("."),M=v,d=x;for(I>=0&&(o=X,X=0,i=i.replace(".",""),m=new h(l),g=m.pow(i.length-I),X=o,m.c=r(Q($(g.c),g.e,"0"),10,t,e),m.e=m.c.length),w=r(i,l,t,u?(n=j,e):(n=e,j)),c=o=w.length;w[--o]==0;w.pop());if(!w[0])return n.charAt(0);if(I<0?--c:(g.c=w,g.e=c,g.s=s,g=E(g,m,M,d,t),w=g.c,a=g.r,c=g.e),f=c+M+1,I=w[f],o=t/2,a=a||f<0||w[f+1]!=null,a=d<4?(I!=null||a)&&(d==0||d==(g.s<0?3:2)):I>o||I==o&&(d==4||a||d==6&&w[f-1]&1||d==(g.s<0?8:7)),f<1||!w[0])i=a?Q(n.charAt(1),-M,n.charAt(0)):n.charAt(0);else{if(w.length=f,a)for(--t;++w[--f]>t;)w[f]=0,f||(++c,w=[1].concat(w));for(o=w.length;!w[--o];);for(I=0,i="";I<=o;i+=n.charAt(w[I++]));i=Q(i,c,n.charAt(0))}return i}}(),E=function(){function e(l,t,s){var u,n,f,c,o=0,a=l.length,g=t%K,w=t/K|0;for(l=l.slice();a--;)f=l[a]%K,c=l[a]/K|0,u=w*f+c*g,n=g*f+u%K*K+o,o=(n/s|0)+(u/K|0)+w*c,l[a]=n%s;return o&&(l=[o].concat(l)),l}function r(l,t,s,u){var n,f;if(s!=u)f=s>u?1:-1;else for(n=f=0;n<s;n++)if(l[n]!=t[n]){f=l[n]>t[n]?1:-1;break}return f}function i(l,t,s,u){for(var n=0;s--;)l[s]-=n,n=l[s]<t[s]?1:0,l[s]=n*u+l[s]-t[s];for(;!l[0]&&l.length>1;l.splice(0,1));}return function(l,t,s,u,n){var f,c,o,a,g,w,m,I,M,d,_,k,re,le,ce,W,ee,q=l.s==t.s?1:-1,y=l.c,P=t.c;if(!y||!y[0]||!P||!P[0])return new h(!l.s||!t.s||(y?P&&y[0]==P[0]:!P)?NaN:y&&y[0]==0||!P?q*0:q/0);for(I=new h(q),M=I.c=[],c=l.e-t.e,q=s+c+1,n||(n=V,c=H(l.e/O)-H(t.e/O),q=q/O|0),o=0;P[o]==(y[o]||0);o++);if(P[o]>(y[o]||0)&&c--,q<0)M.push(1),a=!0;else{for(le=y.length,W=P.length,o=0,q+=2,g=z(n/(P[0]+1)),g>1&&(P=e(P,g,n),y=e(y,g,n),W=P.length,le=y.length),re=W,d=y.slice(0,W),_=d.length;_<W;d[_++]=0);ee=P.slice(),ee=[0].concat(ee),ce=P[0],P[1]>=n/2&&ce++;do{if(g=0,f=r(P,d,W,_),f<0){if(k=d[0],W!=_&&(k=k*n+(d[1]||0)),g=z(k/ce),g>1)for(g>=n&&(g=n-1),w=e(P,g,n),m=w.length,_=d.length;r(w,d,m,_)==1;)g--,i(w,W<m?ee:P,m,n),m=w.length,f=1;else g==0&&(f=g=1),w=P.slice(),m=w.length;if(m<_&&(w=[0].concat(w)),i(d,w,_,n),_=d.length,f==-1)for(;r(P,d,W,_)<1;)g++,i(d,W<_?ee:P,_,n),_=d.length}else f===0&&(g++,d=[0]);M[o++]=g,d[0]?d[_++]=y[re]||0:(d=[y[re]],_=1)}while((re++<le||d[0]!=null)&&q--);a=d[0]!=null,M[0]||M.splice(0,1)}if(n==V){for(o=1,q=M[0];q>=10;q/=10,o++);F(I,s+(I.e=o+c*O-1)+1,u,a)}else I.e=c,I.r=+a;return I}}();function se(e,r,i,l){var t,s,u,n,f;if(i==null?i=x:R(i,0,8),!e.c)return e.toString();if(t=e.c[0],u=e.e,r==null)f=$(e.c),f=l==1||l==2&&(u<=D||u>=L)?ne(f,u):Q(f,u,"0");else if(e=F(new h(e),r,i),s=e.e,f=$(e.c),n=f.length,l==1||l==2&&(r<=s||s<=D)){for(;n<r;f+="0",n++);f=ne(f,s)}else if(r-=u,f=Q(f,s,"0"),s+1>n){if(--r>0)for(f+=".";r--;f+="0");}else if(r+=s-n,r>0)for(s+1==n&&(f+=".");r--;f+="0");return e.s<0&&t?"-"+f:f}function pe(e,r){for(var i,l,t=1,s=new h(e[0]);t<e.length;t++)l=new h(e[t]),(!l.s||(i=b(s,l))===r||i===0&&s.s===r)&&(s=l);return s}function oe(e,r,i){for(var l=1,t=r.length;!r[--t];r.pop());for(t=r[0];t>=10;t/=10,l++);return(i=l+i*O-1)>U?e.c=e.e=null:i<C?e.c=[e.e=0]:(e.e=i,e.c=r),e}S=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,r=/^([^.]+)\.$/,i=/^\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,t=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(s,u,n,f){var c,o=n?u:u.replace(t,"");if(l.test(o))s.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(e,function(a,g,w){return c=(w=w.toLowerCase())=="x"?16:w=="b"?2:8,!f||f==c?g:a}),f&&(c=f,o=o.replace(r,"$1").replace(i,"0.$1")),u!=o))return new h(o,c);if(h.DEBUG)throw Error(G+"Not a"+(f?" base "+f:"")+" number: "+u);s.s=null}s.c=s.e=null}}();function F(e,r,i,l){var t,s,u,n,f,c,o,a=e.c,g=he;if(a){e:{for(t=1,n=a[0];n>=10;n/=10,t++);if(s=r-t,s<0)s+=O,u=r,f=a[c=0],o=z(f/g[t-u-1]%10);else if(c=ue((s+1)/O),c>=a.length)if(l){for(;a.length<=c;a.push(0));f=o=0,t=1,s%=O,u=s-O+1}else break e;else{for(f=n=a[c],t=1;n>=10;n/=10,t++);s%=O,u=s-O+t,o=u<0?0:z(f/g[t-u-1]%10)}if(l=l||r<0||a[c+1]!=null||(u<0?f:f%g[t-u-1]),l=i<4?(o||l)&&(i==0||i==(e.s<0?3:2)):o>5||o==5&&(i==4||l||i==6&&(s>0?u>0?f/g[t-u]:0:a[c-1])%10&1||i==(e.s<0?8:7)),r<1||!a[0])return a.length=0,l?(r-=e.e+1,a[0]=g[(O-r%O)%O],e.e=-r||0):a[0]=e.e=0,e;if(s==0?(a.length=c,n=1,c--):(a.length=c+1,n=g[O-s],a[c]=u>0?z(f/g[t-u]%g[u])*n:0),l)for(;;)if(c==0){for(s=1,u=a[0];u>=10;u/=10,s++);for(u=a[0]+=n,n=1;u>=10;u/=10,n++);s!=n&&(e.e++,a[0]==V&&(a[0]=1));break}else{if(a[c]+=n,a[c]!=V)break;a[c--]=0,n=1}for(s=a.length;a[--s]===0;a.pop());}e.e>U?e.c=e.e=null:e.e<C&&(e.c=[e.e=0])}return e}function J(e){var r,i=e.e;return i===null?e.toString():(r=$(e.c),r=i<=D||i>=L?ne(r,i):Q(r,i,"0"),e.s<0?"-"+r:r)}return p.absoluteValue=p.abs=function(){var e=new h(this);return e.s<0&&(e.s=1),e},p.comparedTo=function(e,r){return b(this,new h(e,r))},p.decimalPlaces=p.dp=function(e,r){var i,l,t,s=this;if(e!=null)return R(e,0,T),r==null?r=x:R(r,0,8),F(new h(s),e+s.e+1,r);if(!(i=s.c))return null;if(l=((t=i.length-1)-H(this.e/O))*O,t=i[t])for(;t%10==0;t/=10,l--);return l<0&&(l=0),l},p.dividedBy=p.div=function(e,r){return E(this,new h(e,r),v,x)},p.dividedToIntegerBy=p.idiv=function(e,r){return E(this,new h(e,r),0,1)},p.exponentiatedBy=p.pow=function(e,r){var i,l,t,s,u,n,f,c,o,a=this;if(e=new h(e),e.c&&!e.isInteger())throw Error(G+"Exponent not an integer: "+J(e));if(r!=null&&(r=new h(r)),n=e.e>14,!a.c||!a.c[0]||a.c[0]==1&&!a.e&&a.c.length==1||!e.c||!e.c[0])return o=new h(Math.pow(+J(a),n?e.s*(2-ie(e)):+J(e))),r?o.mod(r):o;if(f=e.s<0,r){if(r.c?!r.c[0]:!r.s)return new h(NaN);l=!f&&a.isInteger()&&r.isInteger(),l&&(a=a.mod(r))}else{if(e.e>9&&(a.e>0||a.e<-1||(a.e==0?a.c[0]>1||n&&a.c[1]>=24e7:a.c[0]<8e13||n&&a.c[0]<=9999975e7)))return s=a.s<0&&ie(e)?-0:0,a.e>-1&&(s=1/s),new h(f?1/s:s);X&&(s=ue(X/O+2))}for(n?(i=new h(.5),f&&(e.s=1),c=ie(e)):(t=Math.abs(+J(e)),c=t%2),o=new h(B);;){if(c){if(o=o.times(a),!o.c)break;s?o.c.length>s&&(o.c.length=s):l&&(o=o.mod(r))}if(t){if(t=z(t/2),t===0)break;c=t%2}else if(e=e.times(i),F(e,e.e+1,1),e.e>14)c=ie(e);else{if(t=+J(e),t===0)break;c=t%2}a=a.times(a),s?a.c&&a.c.length>s&&(a.c.length=s):l&&(a=a.mod(r))}return l?o:(f&&(o=B.div(o)),r?o.mod(r):s?F(o,X,x,u):o)},p.integerValue=function(e){var r=new h(this);return e==null?e=x:R(e,0,8),F(r,r.e+1,e)},p.isEqualTo=p.eq=function(e,r){return b(this,new h(e,r))===0},p.isFinite=function(){return!!this.c},p.isGreaterThan=p.gt=function(e,r){return b(this,new h(e,r))>0},p.isGreaterThanOrEqualTo=p.gte=function(e,r){return(r=b(this,new h(e,r)))===1||r===0},p.isInteger=function(){return!!this.c&&H(this.e/O)>this.c.length-2},p.isLessThan=p.lt=function(e,r){return b(this,new h(e,r))<0},p.isLessThanOrEqualTo=p.lte=function(e,r){return(r=b(this,new h(e,r)))===-1||r===0},p.isNaN=function(){return!this.s},p.isNegative=function(){return this.s<0},p.isPositive=function(){return this.s>0},p.isZero=function(){return!!this.c&&this.c[0]==0},p.minus=function(e,r){var i,l,t,s,u=this,n=u.s;if(e=new h(e,r),r=e.s,!n||!r)return new h(NaN);if(n!=r)return e.s=-r,u.plus(e);var f=u.e/O,c=e.e/O,o=u.c,a=e.c;if(!f||!c){if(!o||!a)return o?(e.s=-r,e):new h(a?u:NaN);if(!o[0]||!a[0])return a[0]?(e.s=-r,e):new h(o[0]?u:x==3?-0:0)}if(f=H(f),c=H(c),o=o.slice(),n=f-c){for((s=n<0)?(n=-n,t=o):(c=f,t=a),t.reverse(),r=n;r--;t.push(0));t.reverse()}else for(l=(s=(n=o.length)<(r=a.length))?n:r,n=r=0;r<l;r++)if(o[r]!=a[r]){s=o[r]<a[r];break}if(s&&(t=o,o=a,a=t,e.s=-e.s),r=(l=a.length)-(i=o.length),r>0)for(;r--;o[i++]=0);for(r=V-1;l>n;){if(o[--l]<a[l]){for(i=l;i&&!o[--i];o[i]=r);--o[i],o[l]+=V}o[l]-=a[l]}for(;o[0]==0;o.splice(0,1),--c);return o[0]?oe(e,o,c):(e.s=x==3?-1:1,e.c=[e.e=0],e)},p.modulo=p.mod=function(e,r){var i,l,t=this;return e=new h(e,r),!t.c||!e.s||e.c&&!e.c[0]?new h(NaN):!e.c||t.c&&!t.c[0]?new h(t):(Z==9?(l=e.s,e.s=1,i=E(t,e,0,3),e.s=l,i.s*=l):i=E(t,e,0,Z),e=t.minus(i.times(e)),!e.c[0]&&Z==1&&(e.s=t.s),e)},p.multipliedBy=p.times=function(e,r){var i,l,t,s,u,n,f,c,o,a,g,w,m,I,M,d=this,_=d.c,k=(e=new h(e,r)).c;if(!_||!k||!_[0]||!k[0])return!d.s||!e.s||_&&!_[0]&&!k||k&&!k[0]&&!_?e.c=e.e=e.s=null:(e.s*=d.s,!_||!k?e.c=e.e=null:(e.c=[0],e.e=0)),e;for(l=H(d.e/O)+H(e.e/O),e.s*=d.s,f=_.length,a=k.length,f<a&&(m=_,_=k,k=m,t=f,f=a,a=t),t=f+a,m=[];t--;m.push(0));for(I=V,M=K,t=a;--t>=0;){for(i=0,g=k[t]%M,w=k[t]/M|0,u=f,s=t+u;s>t;)c=_[--u]%M,o=_[u]/M|0,n=w*c+o*g,c=g*c+n%M*M+m[s]+i,i=(c/I|0)+(n/M|0)+w*o,m[s--]=c%I;m[s]=i}return i?++l:m.splice(0,1),oe(e,m,l)},p.negated=function(){var e=new h(this);return e.s=-e.s||null,e},p.plus=function(e,r){var i,l=this,t=l.s;if(e=new h(e,r),r=e.s,!t||!r)return new h(NaN);if(t!=r)return e.s=-r,l.minus(e);var s=l.e/O,u=e.e/O,n=l.c,f=e.c;if(!s||!u){if(!n||!f)return new h(t/0);if(!n[0]||!f[0])return f[0]?e:new h(n[0]?l:t*0)}if(s=H(s),u=H(u),n=n.slice(),t=s-u){for(t>0?(u=s,i=f):(t=-t,i=n),i.reverse();t--;i.push(0));i.reverse()}for(t=n.length,r=f.length,t-r<0&&(i=f,f=n,n=i,r=t),t=0;r;)t=(n[--r]=n[r]+f[r]+t)/V|0,n[r]=V===n[r]?0:n[r]%V;return t&&(n=[t].concat(n),++u),oe(e,n,u)},p.precision=p.sd=function(e,r){var i,l,t,s=this;if(e!=null&&e!==!!e)return R(e,1,T),r==null?r=x:R(r,0,8),F(new h(s),e,r);if(!(i=s.c))return null;if(t=i.length-1,l=t*O+1,t=i[t]){for(;t%10==0;t/=10,l--);for(t=i[0];t>=10;t/=10,l++);}return e&&s.e+1>l&&(l=s.e+1),l},p.shiftedBy=function(e){return R(e,-ae,ae),this.times("1e"+e)},p.squareRoot=p.sqrt=function(){var e,r,i,l,t,s=this,u=s.c,n=s.s,f=s.e,c=v+4,o=new h("0.5");if(n!==1||!u||!u[0])return new h(!n||n<0&&(!u||u[0])?NaN:u?s:1/0);if(n=Math.sqrt(+J(s)),n==0||n==1/0?(r=$(u),(r.length+f)%2==0&&(r+="0"),n=Math.sqrt(+r),f=H((f+1)/2)-(f<0||f%2),n==1/0?r="5e"+f:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+f),i=new h(r)):i=new h(n+""),i.c[0]){for(f=i.e,n=f+c,n<3&&(n=0);;)if(t=i,i=o.times(t.plus(E(s,t,c,1))),$(t.c).slice(0,n)===(r=$(i.c)).slice(0,n))if(i.e<f&&--n,r=r.slice(n-3,n+1),r=="9999"||!l&&r=="4999"){if(!l&&(F(t,t.e+v+2,0),t.times(t).eq(s))){i=t;break}c+=4,n+=4,l=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(F(i,i.e+v+2,1),e=!i.times(i).eq(s));break}}return F(i,i.e+v+1,x,e)},p.toExponential=function(e,r){return e!=null&&(R(e,0,T),e++),se(this,e,r,1)},p.toFixed=function(e,r){return e!=null&&(R(e,0,T),e=e+this.e+1),se(this,e,r)},p.toFormat=function(e,r,i){var l,t=this;if(i==null)e!=null&&r&&typeof r=="object"?(i=r,r=null):e&&typeof e=="object"?(i=e,e=r=null):i=te;else if(typeof i!="object")throw Error(G+"Argument not an object: "+i);if(l=t.toFixed(e,r),t.c){var s,u=l.split("."),n=+i.groupSize,f=+i.secondaryGroupSize,c=i.groupSeparator||"",o=u[0],a=u[1],g=t.s<0,w=g?o.slice(1):o,m=w.length;if(f&&(s=n,n=f,f=s,m-=s),n>0&&m>0){for(s=m%n||n,o=w.substr(0,s);s<m;s+=n)o+=c+w.substr(s,n);f>0&&(o+=c+w.slice(s)),g&&(o="-"+o)}l=a?o+(i.decimalSeparator||"")+((f=+i.fractionGroupSize)?a.replace(new RegExp("\\d{"+f+"}\\B","g"),"$&"+(i.fractionGroupSeparator||"")):a):o}return(i.prefix||"")+l+(i.suffix||"")},p.toFraction=function(e){var r,i,l,t,s,u,n,f,c,o,a,g,w=this,m=w.c;if(e!=null&&(n=new h(e),!n.isInteger()&&(n.c||n.s!==1)||n.lt(B)))throw Error(G+"Argument "+(n.isInteger()?"out of range: ":"not an integer: ")+J(n));if(!m)return new h(w);for(r=new h(B),c=i=new h(B),l=f=new h(B),g=$(m),s=r.e=g.length-w.e-1,r.c[0]=he[(u=s%O)<0?O+u:u],e=!e||n.comparedTo(r)>0?s>0?r:c:n,u=U,U=1/0,n=new h(g),f.c[0]=0;o=E(n,r,0,1),t=i.plus(o.times(l)),t.comparedTo(e)!=1;)i=l,l=t,c=f.plus(o.times(t=c)),f=t,r=n.minus(o.times(t=r)),n=t;return t=E(e.minus(i),l,0,1),f=f.plus(t.times(c)),i=i.plus(t.times(l)),f.s=c.s=w.s,s=s*2,a=E(c,l,s,x).minus(w).abs().comparedTo(E(f,i,s,x).minus(w).abs())<1?[c,l]:[f,i],U=u,a},p.toNumber=function(){return+J(this)},p.toPrecision=function(e,r){return e!=null&&R(e,1,T),se(this,e,r,2)},p.toString=function(e){var r,i=this,l=i.s,t=i.e;return t===null?l?(r="Infinity",l<0&&(r="-"+r)):r="NaN":(e==null?r=t<=D||t>=L?ne($(i.c),t):Q($(i.c),t,"0"):e===10&&fe?(i=F(new h(i),v+t+1,x),r=Q($(i.c),i.e,"0")):(R(e,2,j.length,"Base"),r=A(Q($(i.c),t,"0"),10,e,l,!0)),l<0&&i.c[0]&&(r="-"+r)),r},p.valueOf=p.toJSON=function(){return J(this)},p._isBigNumber=!0,p[Symbol.toStringTag]="BigNumber",p[Symbol.for("nodejs.util.inspect.custom")]=p.valueOf,N!=null&&h.set(N),h}function H(N){var E=N|0;return N>0||N===E?E:E-1}function $(N){for(var E,A,S=1,p=N.length,B=N[0]+"";S<p;){for(E=N[S++]+"",A=O-E.length;A--;E="0"+E);B+=E}for(p=B.length;B.charCodeAt(--p)===48;);return B.slice(0,p+1||1)}function b(N,E){var A,S,p=N.c,B=E.c,v=N.s,x=E.s,D=N.e,L=E.e;if(!v||!x)return null;if(A=p&&!p[0],S=B&&!B[0],A||S)return A?S?0:-x:v;if(v!=x)return v;if(A=v<0,S=D==L,!p||!B)return S?0:!p^A?1:-1;if(!S)return D>L^A?1:-1;for(x=(D=p.length)<(L=B.length)?D:L,v=0;v<x;v++)if(p[v]!=B[v])return p[v]>B[v]^A?1:-1;return D==L?0:D>L^A?1:-1}function R(N,E,A,S){if(N<E||N>A||N!==z(N))throw Error(G+(S||"Argument")+(typeof N=="number"?N<E||N>A?" out of range: ":" not an integer: ":" not a primitive number: ")+String(N))}function ie(N){var E=N.c.length-1;return H(N.e/O)==E&&N.c[E]%2!=0}function ne(N,E){return(N.length>1?N.charAt(0)+"."+N.slice(1):N)+(E<0?"e":"e+")+E}function Q(N,E,A){var S,p;if(E<0){for(p=A+".";++E;p+=A);N=p+N}else if(S=N.length,++E>S){for(p=A,E-=S;--E;p+=A);N+=p}else E<S&&(N=N.slice(0,E)+"."+N.slice(E));return N}var Ne=we();const Oe=self;Oe.addEventListener("message",async N=>{const{data:E}=N,{task:A}=E;let S={};switch(A){case"processNominationPoolsRewardData":S=await de(E);break}postMessage({task:A,...S})});const de=async({key:N,addresses:E,era:A,erasRewardPoints:S,exposures:p})=>{const B={},v={};for(const x of p){const{others:D}=x.val,L=E.filter(C=>D.find(({who:U})=>U===C));for(const C of L)v[C]?v[C].push(x.keys[1]):v[C]=[x.keys[1]]}for(const x of Object.entries(v)){const[D,L]=x,C=L.reduce((U,Y)=>{var Z,X;return U.plus(((X=(Z=S[A])==null?void 0:Z.individual)==null?void 0:X[Y||""])??0)},new Ne(0));B[D]||(B[D]={}),B[D][A]=C.toString()}return{key:N,addresses:E,poolRewardData:B}};
