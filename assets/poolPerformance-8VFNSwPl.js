const w=self;w.addEventListener("message",async r=>{const{data:s}=r,{task:o}=s;let t={};switch(o){case"processNominationPoolsRewardData":t=await h(s);break}postMessage({task:o,...t})});const h=async({bondedPools:r,era:s,erasRewardPoints:o,exposures:t})=>{var c,d;const a={};for(const e of r){let i=null;for(const n of t){const{others:l}=n.val;if(l.find(f=>f.who===e)){i=n.keys[1];break}}if(i){const n=((d=(c=o[s])==null?void 0:c.individual)==null?void 0:d[i||""])??0;a[e]||(a[e]={}),a[e][s]=n}}return{poolRewardData:a}};
